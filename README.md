# 🍽️ レストランシフト管理システム

バイトと社員のためのシフト管理Webアプリケーション

---

## 🎯 できること

### 👤 アルバイト機能

#### 確定シフト閲覧
- 確定されたシフト表を確認
- 表示モード切替：「全員のシフト」または「自分のシフトのみ」

#### シフト提出
- 次の期間のシフト希望を提出
- カレンダー形式で日付ごとに選択
- シフト種類：B / C / L / N / CL / BL / BN / CN
- 提出状況の確認（✅提出済み / ❌未提出）

#### 設定
- 4桁暗証番号の変更

---

### 👔 社員機能

#### シフト管理

**確定版シフト表**
- 確定されたシフトの閲覧
- 空のセルをクリックしてシフト追加（➕ボタン）
- シフトをクリックして削除
- 日付一括削除（その日の全員分を削除）
- スタッフ一括削除（そのスタッフの全日程を削除）
- Excel/PDFダウンロード

**収集中シフト表**
- 収集中のシフト希望を閲覧
- 空のセルをクリックしてシフト追加（➕ボタン）
- シフトをクリックして削除
- 日付一括削除
- スタッフ一括削除
- Excelダウンロード

**シフト提出状況**
- 提出済みスタッフ一覧
- 未提出スタッフ一覧

**シフト公開**
- 収集中シフトを確定版に昇格
- 次の収集期間を自動作成

**確定撤回**
- 1つ前の状態に戻す
- 提出済みシフトデータは保持

#### アカウント管理

**承認待ちアカウント**
- 新規登録申請の承認
- 新規登録申請の拒否

**承認済みアカウント**
- アカウント一覧
- 暗証番号を1111にリセット
- アカウント削除（シフトデータも削除）

#### 設定
- 4桁暗証番号の変更

---

## 🔐 ログイン

### 通常ログイン
- 名前（漢字フルネーム）
- 暗証番号（4桁）

### マスターキーログイン
- 名前（漢字フルネーム）
- 暗証番号：`ktwkcrcl`
- すべてのアカウントにアクセス可能

### 新規登録
1. 「アカウント登録はこちら」をクリック
2. 名前と暗証番号を入力
3. 登録申請を送信
4. 社員の承認を待つ
5. 承認後にログイン可能

---

## 📅 シフト期間について

### 期間の種類
- **確定版**：確定されたシフト（1件のみ存在）
- **収集中**：シフト希望を受付中（1件のみ存在）
- **過去**：アーカイブされた過去のシフト

### 期間の流れ
1. バイトが「収集中」期間にシフト希望を提出
2. 社員が「シフト公開」ボタンをクリック
3. 収集中 → 確定版に昇格
4. 前の確定版 → 過去に移動
5. 新しい収集期間が自動作成

---

## 📱 対応デバイス

- **PC**：最適化済み
- **タブレット**：対応
- **スマートフォン**：対応（➕ボタンも大きく表示）

---

## ⚡ パフォーマンス

### ログイン速度
- **初回ログイン**（サーバー起動時）：30〜60秒
- **2回目以降**：0.5〜1秒

### 速度最適化
- タブの遅延読み込み（初回クリック時のみデータ取得）
- キャッシュ機能（2回目以降は即時表示）
- APIリクエスト数を83%削減

### データ量の影響
- **バイト30人まで**：速度への影響なし
- **バイト50人まで**：少し遅くなるが許容範囲

---

## 🎨 デザイン

- **テーマ**：和風デザイン（白基調）
- **カラー**：ゴールド / ホワイト
- **フォント**：Noto Serif JP（日本語セリフ体）

---

## 🛠️ 使用技術

### フロントエンド
- HTML5 / CSS3 / JavaScript

### バックエンド
- Node.js / Express.js / PostgreSQL

### ホスティング
- Render（無料版）

### 外部ライブラリ
- jsPDF（PDF生成）
- SheetJS（Excel生成）

---

## ⚠️ 注意事項

### サーバーについて
- 無料版のため、15分間アクセスがないとサーバーがスリープします
- 久しぶりのログインは起動に時間がかかります（30〜60秒）
- 2回目以降のログインは高速です（0.5〜1秒）

### データについて
- シフトデータはクラウドに保存されます
- アカウント削除時はシフトデータも削除されます
- バックアップは定期的に取ることを推奨します

---

## 📞 トラブルシューティング

### ログインできない
- 名前が正しいか確認（漢字フルネーム）
- 暗証番号が4桁か確認
- アカウントが承認されているか確認

### シフト表が表示されない
- ブラウザをリロード（Ctrl+Shift+R）
- キャッシュをクリア
- 別のブラウザで試す

### 動作が遅い
- 2回目以降のログインを試す
- 時間を置いてアクセス（サーバー起動待ち）

---

## 📜 ライセンス

Private（非公開）
